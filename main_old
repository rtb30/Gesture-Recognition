# import functions
from formatData import format
from plottingData import plot_2D, plot_3D
from fileNames import get_csv_filenames, clear_folder

# this function is to reformat and plot a gesture
def main(folder_path, title):
    print('starting main')
    # delete exsiting output files at designated path
    clear_folder(str(rev_path), '*.csv')
    #clear_folder('HDF5_formatted', '*.h5')
    labels = 0

    # define filenames for inputs and outputs
    inputs = get_csv_filenames(folder_path)

    # flags: [csv_flag, h5_flag]
    h5_flag = 0
    h5_name = ''
    
    # length: [interp flag, length, max length flag]
    length = [1, 20, 0]

    # format all data
    EPC_sep = format(inputs, h5_flag, length, h5_name, labels)

    # plot all 3 datasets separated by EPC into 2 graphs (Phase & RSSI)
    #plot_2D(title, EPC_sep)

    # plot all 3 datasets on a 3D plot (x, y, z) = (RSSI, EPC, phase)
    plot_3D(EPC_sep, title)

if __name__ == '__main__':
    # define folder path and title
    folder_path = 'Data/REV7/1 Stephan Sigg/SS 1.5m/17 Two-hand Outward Circles'
    title = 'SS2 G2'
    rev_path = 'CSV_formatted/REV6 RB1'
    main(folder_path, title)
